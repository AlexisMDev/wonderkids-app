# √âtape 1 : Image de base
FROM node:22-slim

# √âtape 2 : Cr√©er un r√©pertoire de travail
WORKDIR /app

# üõ†Ô∏è Fix OpenSSL
RUN apt-get update && apt-get install -y openssl

# √âtape 3 : Copier tout le code
COPY . .

# √âtape 5 : Installer les d√©pendances
RUN npm install

# √âtape 6 : Exposer le port (doit corresponde √† celui dans .env)
EXPOSE 3001

# √âtape 7 : Commande de d√©marrage
CMD ["npm", "run", "dev"]